<!doctype html>

<head>
    <title>Hadith</title>
</head>

<body id="top">
    <div id="navbar-container"></div>

    <main>
        <header class="site-header">
            <div class="section-overlay"></div>

            <div class="container">
                <div class="row">
                    <div class="col-lg-12 col-12 text-center">
                        <h1 class="text-white">Hadiths Books</h1>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb justify-content-center">
                                <li class="breadcrumb-item"><a href="/">Home</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Hadiths Books</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </header>

        <section class="container py-5">
            <div id="hadiths-list" class="row g-4"></div>
        </section>
    </main>

    <div id="footer-container"></div>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/counter.js"></script>
    <script src="js/custom.js"></script>
    <script src="js/script.js"></script>

    <script>
        API_KEY = "$2y$10$B8yax3MxHEcXfplBYp94edFIjUBgKs05qwd08hZESA9C9NHtAwP6";

        document.addEventListener("DOMContentLoaded", function () {
            const url = "https://www.hadithapi.com/api/books?apiKey=api_key".replace("api_key", API_KEY);

            fetch(url)
                .then((res) => res.json())
                .then((response) => {
                    if (response.status === 200) {
                        const books = response.books;

                        const hadithsList = document.querySelector("#hadiths-list");
                        books.forEach((book) => {
                            if (book.hadiths_count == 0) return;
                            const hadithItem = document.createElement("div");
                            hadithItem.className = "col-lg-3 col-md-6 col-12 d-flex";
                            hadithItem.innerHTML = `                        
                                <div class="hadith-card d-flex flex-column w-100">
                                    <h5 class="text-ar text-center text-primary">${book.bookName}</h5>
                                    <h6 class="text-center">${book.bookSlug}</h6>
                                    <p class="author text-center fst-italic">${book.writerName} - ${book.writerDeath}</p>
                                    <p class="description text-center">
                                        <span class="text-primary fw-bold">${book.hadiths_count}</span> Hadiths | 
                                        <span class="text-primary fw-bold">${book.chapters_count}</span> Chapters 
                                    </p>

                                    <div class="mt-auto text-center pt-3">
                                        <a href="hadith-chapters.html?book=${book.bookSlug}" class="btn custom-btn rounded-pill">
                                            View Chapters
                                        </a>
                                    </div>
                                </div>`;
                            hadithsList.appendChild(hadithItem);
                        });
                    }
                })
                .catch((err) => console.error("Error loading chapters:", err));
        });
    </script>
</body>

</html>