<!DOCTYPE html>
<html lang="ml">

<head>
    <span id="headContainer"></span>
    <link rel="icon" href="assets/img/favicon.ico" type="image/x-icon">
</head>

<style>

</style>

<body>
    <div class="loader" id="pageLoader">
        <div class="spinner"></div>
    </div>

    <span id="navbarContainer"></span>

    <section class="container py-3">
        <div class="index-card">
            <h3 class="text-center quran-text">القرآن الكريم</h3>
            <p class="text-center">
                The Qur'an is the final divine revelation sent to humanity through Prophet Muhammad ﷺ. It consists
                of 114 Surahs (chapters), each offering divine guidance, laws, morals, stories, and reflections for
                life. This sacred text has been preserved unchanged and continues to be a source of light and
                wisdom.
            </p>

            <ul class="index-list mt-2"></ul>
        </div>
    </section>

    <span id="footerContainer"></span>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/custom.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", async () => {
            document.title = "The Noble Qur'an";
            const loader = document.getElementById("pageLoader");
            const chapterList = document.querySelector(".index-list");

            try {
                const res = await fetch("https://api.alquran.cloud/v1/surah");
                const response = await res.json();

                if (response.code === 200 && Array.isArray(response.data)) {
                    const html = response.data.map(chapter => `
                    <a href="quran-view.html?chapter=${chapter.number}" class="text-decoration-none">
                        <li class="mb-2">
                            ${chapter.number}. ${chapter.englishName}
                            <i class="bi bi-play-fill"></i>
                        </li>
                    </a>
                `).join("");

                    chapterList.innerHTML = html;
                }
            } catch (err) {
                alert("An error occurred while fetching data.");
            } finally {
                if (loader) loader.style.display = "none";
            }
        });
    </script>
</body>

</html>