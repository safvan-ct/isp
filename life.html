<!DOCTYPE html>
<html lang="ml">

<head>
    <span id="headContainer"></span>
</head>

<body>
    <span id="navbarContainer"></span>

    <section class="container py-5">
        <div class="row g-4" id="life-list"> </div>
    </section>

    <span id="footerContainer"></span>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/custom.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            document.title = "life";

            fetch("db/life.json")
                .then((res) => res.json())
                .then((response) => {
                    if (response.length > 0) {
                        const lifeList = document.getElementById("life-list");

                        response.forEach((life) => {
                            const lifeItem = `
                                <div class="col-md-4">
                                    <div class="category-box d-flex flex-column">
                                        <div>
                                            <div class="cat-title">${life.icon} ${life.title} | ${life.ml_title}</div>
                                            ${life.ml.map((item) => `<div class="cat-topic">${item}</div>`).join("")}
                                        </div>
                                        <a href="life-list.html?id=${life.id}" class="learn-more-btn text-decoration-none">കൂടുതൽ കാണുക</a>
                                    </div>
                                </div>
                            `;

                            lifeList.insertAdjacentHTML("beforeend", lifeItem);
                        });
                    }
                })
                .catch((err) => console.error("Error loading life.json:", err));
        });

    </script>
</body>

</html>